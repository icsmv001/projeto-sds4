package com.devsuperior.dsvendas.repositories;

import java.io.BufferedReader;
import java.io.FileInputStream;
import java.io.IOException;
import java.io.InputStreamReader;
import java.net.URI;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.util.List;

import org.springframework.stereotype.Component;
import org.springframework.web.multipart.MultipartFile;
@Component
public class ReadFileRepository {
	
	
	public void ReadFile(MultipartFile foto) {
	this.LerArq(null,foto);
	}
	


	public void LerArq(Object arquivo, MultipartFile foto) {
		// TODO Auto-generated method stub
		System.out.println( " 2 ate aqui  ok !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! ######################" + foto );
		try {
			 Path path = Paths.get("C:\\tmp\\download\\files\\teste002.txt");

		        List<String> linhasArquivo = Files.readAllLines(path);
		        for (String linha : linhasArquivo) {
		            
		        	 String cpf = linha.substring(0, 11);
		             String nome = linha.substring(11, 33);
		             String agencia = linha.substring(34, 37);
		             String conta = linha.substring(38);
		             System.out.println(" 1CPF....: " + cpf + 
		            		            " 1NOME...: " + nome +
		            		            " 1AGENCIA: " + agencia + 
		            		            " 1CONTA..: " + conta +
		            		            "\n" );
		       
		            
		            
		        }
		
//		        for (String linha : linhasArquivo) {
//		        
//		        System.out.println( "linhas--> " + linha );
//		        }   
		
		
		
		
		
		
		
		}catch (IOException e) {
			throw new RuntimeException("Problemas na tentativa de LerArq arquivos");
		}
		
	}
	
		




 /////////////////////



public void LerArq2(MultipartFile foto) {
	// TODO Auto-generated method stub
	 
	String nomeArquivo = (foto);
	try (BufferedReader br =
	         new BufferedReader(new InputStreamReader(new FileInputStream(nomeArquivo), "UTF-8"))) {
	    String linha; // para cada linha
	    while ((linha = br.readLine()) != null) {
	    	 String cpf = linha.substring(0, 11);
             String nome = linha.substring(11, 33);
             String agencia = linha.substring(34, 37);
             String conta = linha.substring(38);
             System.out.println(" 2CPF....: " + cpf + 
 		            " 2NOME...: " + nome +
 		            " 2AGENCIA: " + agencia + 
 		            " 2CONTA..: " + conta +
 		            "\n" );
	    }
	   
	
	}catch (IOException e) {
		throw new RuntimeException("Problemas na tentativa de LerArq arquivos");
	}

 
 
	
	
}}
 
